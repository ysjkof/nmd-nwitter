(this["webpackJsonpnmd-nwitter"]=this["webpackJsonpnmd-nwitter"]||[]).push([[0],{79:function(e,n,t){"use strict";t.r(n);var c,r,a,i,o,s,b,l,u,d,j,p,x,O,f,h,m,g,w,v,y=t(7),k=t.n(y),S=t(50),C=t.n(S),I=t(39),N=t(12),U=t(15),E=t(37),A=t(16),D=t(13),F=t(0),B=t.n(F),H=t(1),L=t(25),M=t(30),z=t(46),T=t(51),_=t(61),G=t(53),P=t(54),R=t(55),W=Object(T.a)({apiKey:"AIzaSyDuGX01d10m5JneTMNHY4UUsE5V3v_bkcQ",authDomain:"nwitter-db920.firebaseapp.com",projectId:"nwitter-db920",storageBucket:"nwitter-db920.appspot.com",messagingSenderId:"218232021739",appId:"1:218232021739:web:bdf9d95c33b7d9e07514ae",measurementId:"G-MQ950N33XB"}),q=(Object(_.a)(W),Object(G.a)()),J=Object(P.a)(),Q=Object(R.a)(),X=t(6),K=D.c.form(c||(c=Object(U.a)(["\n  display: flex;\n  flex-direction: column;\n  input {\n    padding: 10px 14px;\n  }\n  input:not(:last-child) {\n    margin-bottom: 14px;\n  }\n  input:last-child {\n    margin-bottom: 8px;\n    box-shadow: none;\n    cursor: pointer;\n  }\n"]))),V=D.c.button(r||(r=Object(U.a)(["\n  background: none;\n  cursor: pointer;\n  color: #d35400;\n  box-shadow: none;\n"]))),Y=D.c.span(a||(a=Object(U.a)(["\n  color: red;\n  margin-bottom: 12px;\n"]))),Z=function(){var e=Object(y.useState)(""),n=Object(N.a)(e,2),t=n[0],c=n[1],r=Object(y.useState)(""),a=Object(N.a)(r,2),i=a[0],o=a[1],s=Object(y.useState)(!1),b=Object(N.a)(s,2),l=b[0],u=b[1],d=Object(y.useState)(""),j=Object(N.a)(d,2),p=j[0],x=j[1],O=function(e){var n=e.target,t=n.name,r=n.value;"email"===t?c(r):"password"===t&&o(r)},f=function(){var e=Object(H.a)(B.a.mark((function e(n){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),e.prev=1,!l){e.next=7;break}return e.next=5,Object(L.c)(q,t,i);case 5:e.next=9;break;case 7:return e.next=9,Object(L.e)(q,t,i);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),x(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(n){return e.apply(this,arguments)}}();return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsxs)(K,{onSubmit:f,children:[Object(X.jsx)("input",{name:"email",type:"text",placeholder:"Email",required:!0,value:t,onChange:O}),Object(X.jsx)("input",{name:"password",type:"password",placeholder:"Password",required:!0,value:i,onChange:O}),Object(X.jsx)(Y,{children:p}),Object(X.jsx)("input",{type:"submit",value:l?"Create Account":"Log In"})]}),Object(X.jsx)(V,{onClick:function(){return u((function(e){return!e}))},children:l?"Change to Sign In":"Create Account"})]})},$=D.c.div(i||(i=Object(U.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n"]))),ee=D.c.div(o||(o=Object(U.a)(["\n  margin-top: 30px;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-evenly;\n  button {\n    width: 40%;\n  }\n"]))),ne=function(){var e=function(){var e=Object(H.a)(B.a.mark((function e(n){var t,c,r,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.target.name,e.prev=1,"google"!==t){e.next=10;break}return c=new L.b,e.next=6,Object(L.f)(q,c);case 6:r=e.sent,L.b.credentialFromResult(r),e.next=16;break;case 10:if("github"!==t){e.next=16;break}return c=new L.a,e.next=14,Object(L.f)(q,c);case 14:a=e.sent,L.a.credentialFromResult(a);case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),console.error(e.t0);case 21:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(n){return e.apply(this,arguments)}}();return Object(X.jsxs)($,{children:[Object(X.jsx)(Z,{}),Object(X.jsxs)(ee,{children:[Object(X.jsxs)("button",{name:"google",onClick:e,children:["Sign In with Google",Object(X.jsx)(M.a,{icon:z.b})]}),Object(X.jsxs)("button",{name:"github",onClick:e,children:["Sign In GitHub",Object(X.jsx)(M.a,{icon:z.a})]})]})]})},te=t(17),ce=t(28),re=t(36),ae=D.c.div(s||(s=Object(U.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background-color: white;\n  border-radius: 8px;\n  padding: 4px 8px;\n  :not(:last-child) {\n    margin-bottom: 14px;\n  }\n  box-shadow: ",";\n"])),(function(e){return e.isOwner?"0 0 3px 1px":"0 0 1px"})),ie=D.c.div(b||(b=Object(U.a)(["\n  display: flex;\n  width: 100%;\n  flex-direction: column;\n"]))),oe=D.c.div(l||(l=Object(U.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  color: #34495e;\n  img {\n    max-width: 30%;\n  }\n  :first-child {\n    font-size: 14px;\n    color: #7f8c8d;\n  }\n"]))),se=D.c.div(u||(u=Object(U.a)(["\n  span:last-child {\n    margin-left: 25px;\n  }\n"]))),be=function(e){var n=e.nweetObj,t=e.isOwner,c=Object(y.useState)(!1),r=Object(N.a)(c,2),a=r[0],i=r[1],o=Object(y.useState)(n.text),s=Object(N.a)(o,2),b=s[0],l=s[1],u=function(){var e=Object(H.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete this nweet?")){e.next=7;break}return e.next=4,Object(te.c)(Object(te.d)(Object(te.f)(),"nweets/".concat(n.id)));case 4:if(!n.attachmentUrl){e.next=7;break}return e.next=7,Object(ce.a)(Object(ce.d)(Q,n.attachmentUrl));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){return i((function(e){return!e}))},j=function(){var e=Object(H.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Object(te.j)(Object(te.d)(Object(te.f)(),"nweets/".concat(n.id)),{text:b});case 3:i(!1);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return console.log(t),Object(X.jsx)(ae,{isOwner:t,children:a?Object(X.jsxs)(X.Fragment,{children:[Object(X.jsxs)("form",{onSubmit:j,children:[Object(X.jsx)("input",{type:"text",placeholder:"Edit your nweet",value:b,required:!0,onChange:function(e){var n=e.target.value;l(n)}}),Object(X.jsx)("input",{type:"submit",value:"NWEET"})]}),Object(X.jsx)("button",{onClick:d,children:"Cancel"})]}):Object(X.jsx)(X.Fragment,{children:Object(X.jsxs)(ie,{children:[Object(X.jsxs)(oe,{children:[Object(X.jsx)("h6",{children:n.displayName}),t&&Object(X.jsxs)(se,{children:[Object(X.jsx)("span",{onClick:u,children:Object(X.jsx)(M.a,{icon:re.c})}),Object(X.jsx)("span",{onClick:d,children:Object(X.jsx)(M.a,{icon:re.a})})]})]}),Object(X.jsxs)(oe,{children:[Object(X.jsx)("h4",{children:n.text}),n.attachmentUrl&&Object(X.jsx)("img",{alt:"",src:n.attachmentUrl})]})]})})})},le=t(81),ue=D.c.form(d||(d=Object(U.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  input {\n    margin-bottom: 5px;\n    padding: 0 10px;\n    :first-child {\n      width: 100%;\n      padding: 10px;\n    }\n  }\n  label {\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 5px;\n    span {\n      margin-right: 10px;\n    }\n  }\n"]))),de=D.c.div(j||(j=Object(U.a)(["\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  top: 20%;\n  box-shadow: 0 0 10px;\n  img {\n    max-width: 350px;\n    max-height: 350px;\n    width: fit-content;\n    height: fit-content;\n  }\n  span {\n    position: absolute;\n    background-color: white;\n    border-radius: 8px;\n    padding: 2px;\n    font-size: 12px;\n    top: 10px;\n    left: 10px;\n    border: 1px solid red;\n    color: red;\n  }\n  button {\n    position: absolute;\n    bottom: 8px;\n    right: 8px;\n    color: red;\n    font-weight: 600;\n    border: 1px solid red;\n  }\n"]))),je=function(e){var n=e.userObj,t=Object(y.useState)(""),c=Object(N.a)(t,2),r=c[0],a=c[1],i=Object(y.useState)(""),o=Object(N.a)(i,2),s=o[0],b=o[1],l=function(){var e=Object(H.a)(B.a.mark((function e(t){var c,i,o,l;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,c="",""===s){e.next=11;break}return i=Object(ce.d)(Q,"".concat(n.uid,"/").concat(Object(le.a)())),e.next=7,Object(ce.e)(i,s,"data_url");case 7:return o=e.sent,e.next=10,Object(ce.b)(o.ref);case 10:c=e.sent;case 11:return l={text:r,createdAt:Date.now(),creatorId:n.uid,attachmentUrl:c,displayName:n.displayName},e.next=14,Object(te.a)(Object(te.b)(J,"nweets"),l);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.error("Error adding document: ",e.t0);case 19:a(""),b("");case 21:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(n){return e.apply(this,arguments)}}();return Object(X.jsxs)(ue,{onSubmit:l,children:[Object(X.jsx)("input",{value:r,onChange:function(e){var n=e.target.value;a(n)},type:"text",placeholder:"What's on your mind?",maxLength:123}),Object(X.jsxs)("label",{htmlFor:"attach-file",className:"factoryInput__label",children:[Object(X.jsxs)("div",{children:[Object(X.jsx)("span",{children:"Add photos"}),Object(X.jsx)(M.a,{icon:re.b})]}),Object(X.jsx)("input",{type:"submit",value:"SEND"})]}),Object(X.jsx)("input",{id:"attach-file",type:"file",accept:"image/*",onChange:function(e){var n=e.target.files[0],t=new FileReader;t.onloadend=function(e){var n=e.currentTarget.result;b(n)},t.readAsDataURL(n)},style:{display:"none"}}),s?Object(X.jsxs)(de,{children:[Object(X.jsx)("span",{children:"Attached Image"}),Object(X.jsx)("img",{alt:"",src:s}),Object(X.jsx)("button",{onClick:function(){return b(null)},children:"Clear"})]}):null]})},pe=D.c.div(p||(p=Object(U.a)(["\n  height: 100%;\n"]))),xe=D.c.div(x||(x=Object(U.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 20px;\n  border: 1px solid;\n  padding: 10px;\n  border-radius: 8px;\n  height: 70vh;\n  width: 100%;\n  overflow-y: auto;\n  &:first-child {\n    margin-top: auto;\n  }\n"]))),Oe=function(e){var n=e.userObj,t=Object(y.useState)([]),c=Object(N.a)(t,2),r=c[0],a=c[1];Object(y.useEffect)((function(){var e=Object(te.i)(Object(te.b)(J,"nweets"),Object(te.h)("createdAt"));Object(te.g)(e,(function(e){var n=e.docs.map((function(e){return Object(I.a)({id:e.id},e.data())}));a(n)}))}),[]),Object(y.useEffect)((function(){var e=document.getElementById("OutWindow"),n=e.scrollTopMax;e.scrollTop=n}));return Object(X.jsxs)(pe,{children:[Object(X.jsx)(xe,{onScroll:function(e){},id:"OutWindow",children:r.map((function(e){return Object(X.jsx)(be,{nweetObj:e,isOwner:e.creatorId===n.uid},e.id)}))}),Object(X.jsx)(je,{userObj:n})]})},fe=D.c.div(O||(O=Object(U.a)(["\n  height: 100%;\n  min-height: 82vh;\n  border: 1px solid;\n  border-radius: 8px;\n  padding: 5px;\n  form {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 30px;\n    div {\n      display: flex;\n      justify-content: space-between;\n      gap: 20px;\n      input {\n        width: 50%;\n      }\n    }\n    label {\n      margin-right: 10px;\n    }\n    input:not(:last-child) {\n      border: none;\n      box-shadow: 0 0 4px;\n      padding: 0 7px;\n    }\n  }\n"]))),he=D.c.div(f||(f=Object(U.a)(["\n  display: flex;\n  flex-direction: column;\n  h5 {\n    width: 100%;\n    text-align: center;\n    margin-bottom: 18px;\n  }\n"]))),me=function(e){var n=e.userObj,t=e.refreshUser,c=Object(y.useState)(n.displayName),r=Object(N.a)(c,2),a=r[0],i=r[1],o=Object(y.useState)(),s=Object(N.a)(o,2),b=s[0],l=s[1],u=function(){var e=Object(H.a)(B.a.mark((function e(c){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),n.displayName===a){e.next=4;break}return e.next=4,Object(L.g)(n,{displayName:a});case 4:t();case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),d=function(){var e=Object(H.a)(B.a.mark((function e(){var t,c,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(te.i)(Object(te.b)(J,"nweets"),Object(te.k)("creatorId","==",n.uid)),e.next=3,Object(te.e)(t);case 3:c=e.sent,r=[],c.forEach((function(e){return r.push(e.data())})),l(r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(y.useEffect)((function(){d()}),[]),Object(X.jsxs)(fe,{children:[Object(X.jsxs)("form",{onSubmit:u,children:[Object(X.jsx)("label",{children:"Nickname"}),Object(X.jsxs)("div",{children:[Object(X.jsx)("input",{onChange:function(e){var n=e.target.value;i(n)},type:"text",placeholder:"Display name",value:a}),Object(X.jsx)("input",{type:"submit",value:"Update Profile"})]})]}),Object(X.jsxs)(he,{children:[Object(X.jsx)("h5",{children:"My Nweets"}),null===b||void 0===b?void 0:b.map((function(e){return Object(X.jsx)(be,{nweetObj:e,isOwner:e.creatorId===n.uid},e.createdAt)}))]})]})},ge=D.c.nav(h||(h=Object(U.a)(["\n  display: flex;\n  background-color: white;\n  margin-top: 10px;\n  margin-bottom: 10px;\n  width: 100%;\n  border-radius: 8px;\n"]))),we=D.c.ul(m||(m=Object(U.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  width: 100%;\n  a,\n  button {\n    border: 1px solid;\n    border-radius: 8px;\n    padding: 4px 8px;\n  }\n"]))),ve=D.c.li(g||(g=Object(U.a)(["\n  display: flex;\n  align-items: center;\n  :last-child {\n    & :last-child {\n      margin-left: 12px;\n    }\n  }\n"]))),ye=function(e){var n=e.userObj,t=Object(A.f)();return Object(X.jsx)(ge,{children:Object(X.jsxs)(we,{children:[Object(X.jsx)(ve,{children:Object(X.jsx)(E.b,{to:"/profile",children:(null===n||void 0===n?void 0:n.displayName)?"".concat(n.displayName,"'s Profile"):"My Profile"})}),Object(X.jsxs)(ve,{children:[Object(X.jsx)(E.b,{to:"/",children:"Home"}),Object(X.jsx)("button",{onClick:function(){q.signOut(),t.push("/")},children:"Log out"})]})]})})},ke=D.c.div(w||(w=Object(U.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  max-width: 375px;\n  height: 100vh;\n  margin: auto;\n"]))),Se=D.c.main(v||(v=Object(U.a)([""]))),Ce=function(e){var n=e.isLoggedIn,t=e.userObj,c=e.refreshUser;return Object(X.jsx)(ke,{children:Object(X.jsxs)(E.a,{children:[n&&Object(X.jsx)(ye,{userObj:t}),Object(X.jsx)(A.c,{children:n?Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(A.a,{exact:!0,path:"/",children:Object(X.jsx)(Se,{children:Object(X.jsx)(Oe,{userObj:t})})}),Object(X.jsx)(A.a,{path:"/profile",children:Object(X.jsx)(Se,{children:Object(X.jsx)(me,{refreshUser:c,userObj:t})})})]}):Object(X.jsx)(A.a,{exact:!0,path:"/",children:Object(X.jsx)(Se,{children:Object(X.jsx)(ne,{})})})})]})})};var Ie,Ne=function(){var e=Object(y.useState)(!1),n=Object(N.a)(e,2),t=n[0],c=n[1],r=Object(y.useState)(q.currentUser),a=Object(N.a)(r,2),i=a[0],o=a[1],s=Object(y.useState)(null),b=Object(N.a)(s,2),l=b[0],u=b[1];return Object(y.useEffect)((function(){q.onAuthStateChanged((function(e){e?(o(!0),u(e)):(o(!1),u(null)),c(!0)}))}),[]),Object(X.jsx)(X.Fragment,{children:t?Object(X.jsx)(Ce,{refreshUser:function(){var e=q.currentUser;u(Object(I.a)({},e)),u(e)},isLoggedIn:i,userObj:l}):"Initializing..."})},Ue=t(60),Ee=Object(D.a)(Ie||(Ie=Object(U.a)(["\n","\n@font-face {\n    font-family: 'HangeulNuri-Bold';\n    src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_three@1.0/HangeulNuri-Bold.woff') format('woff');\n    font-weight: normal;\n    font-style: normal;\n}\n*{\n    box-sizing: border-box;\n}\nbody{\n    font-family: 'HangeulNuri-Bold';\n    /* background-color: #bdc3c7; */\n}\ninput, button{\n    border:solid 1px;\n    border-radius: 8px;\n    background-color: white;\n}\nbutton{\n    cursor:pointer;\n}\na{\n    color:black;\n    text-decoration: none;\n}\n"])),Ue.a);C.a.render(Object(X.jsxs)(k.a.StrictMode,{children:[Object(X.jsx)(Ee,{}),Object(X.jsx)(Ne,{})]}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.18f21f5e.chunk.js.map